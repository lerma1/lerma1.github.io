(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],{15:function(e,t,a){e.exports=a(21)},21:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(13),i=a.n(l),c=a(2),o=a(3),s=a(6),h=a(4),d=a(1),u=a(5);function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:0,color:"white",VerticalSpan:1};this.value=e.value,this.color=e.color,this.VerticalSpan=e.VerticalSpan,this.children=[]}function m(){var e=new p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:0,color:"white",VerticalSpan:1});this._root=e}m.prototype.traverse=function(e){!function t(a){for(var r=0,n=a.children.length;r<n;r++)t(a.children[r]);e(a)}(this._root)};var v=function(e,t){var a=void 0;return e?(t.traverse((function(t){void 0!=t.children.find((function(t){return t==e}))&&(a=t)})),a):(alert("!"),0)},f=function(e,t){var a=0,r=e;if(!e)return alert("!"),0;for(;void 0!=r;)(r=v(r,t))&&(a+=r.VerticalSpan);return a},C=function(e){var t=0;return e.traverse((function(a){f(a,e)>t&&(t=f(a,e))})),t},k=function(e){var t=0;return e.traverse((function(e){e.value>t&&(t=e.value)})),t};m.prototype.getParentsIndex=function(e){for(var t=[],a=e.value,r=v(e,this);void 0!=r;)t.unshift(r.children.findIndex((function(e){return e.value==a}))),a=r.value,r=v(r,this);return t};var b=function(e,t){var a=null;return t.traverse((function(t){t.value===e&&(a=t)})),null===a?-1:a};m.prototype.getNumbersRow=function(e){var t=[];t[0]=f(e,this);for(var a=1;a<e.VerticalSpan;a++)t.push(a+t[0]);return t},m.prototype.hasRow=function(e,t){return-1!=this.getNumbersRow(t).findIndex((function(t){return t==e}))},m.prototype.getLowerCells=function(){for(var e=this,t=this._root.children[0];0!=t.children.length;)t=t.children[0];var a=this.getNumbersRow(t),r=a[a.length-1],n=[];return this.traverse((function(t){e.hasRow(r,t)&&n.push(t)})),n},m.prototype.isParentOfChild=function(e,t){for(var a=t;void 0!=v(a,this);){if(v(a,this)==e)return!0;a=v(a,this)}return!1},m.prototype.getColSpan=function(e,t){for(var a=0,r=this.getLowerCells(),n=0;n<r.length;n++)this.isParentOfChild(e,r[n])&&a++;return a};a(9);var y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={tree:a.props.tree},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=[],a=function(e){var t=[];return e.traverse((function(a){var r=f(a,e);t[r]||(t[r]=[]),t[r].push(a)})),t}(this.state.tree),r=this.props.widthWindow/a.length;r=r>150?150:r;for(var l=1;l<a.length;l++){var i=n.a.createElement("tr",{key:"tr"+l+new Date},a[l].map((function(t){return n.a.createElement("td",{key:t.value,rowSpan:t.VerticalSpan,colSpan:e.state.tree.getColSpan(t),style:{"background-color":t.color,width:(t.children.length||1)*r+"px",height:t.VerticalSpan*(r/2)+"px"}},t.value)})));t.push(i)}return n.a.createElement("div",{className:"container"},n.a.createElement("table",{className:"table-tree h4"},t))}}]),t}(r.Component),x=a(7),S=(a(12),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={isCheckedRow:a.props.isCheckedRow,isCheckedCol:a.props.isCheckedCol},a.onClickRadio=a.onClickRadio.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onClickRadio",value:function(e){"option1"==e.target.value?this.setState({isCheckedCol:!1,isCheckedRow:!0}):this.setState({isCheckedCol:!0,isCheckedRow:!1})}},{key:"render",value:function(){return n.a.createElement("div",{className:"container card p-0"},n.a.createElement("h5",{className:"card-header"},"\u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432/\u0441\u0442\u0440\u043e\u043a"),n.a.createElement("div",{className:"card-body pt-0"},n.a.createElement("div",{className:"form-group d-inline-block"},n.a.createElement("label",{htmlFor:"input"},"\u041d\u043e\u043c\u0435\u0440 \u044f\u0447\u0435\u0439\u043a\u0438"),n.a.createElement("input",{type:"text",className:"form-control input-number",id:"input",placeholder:"7",defaultValue:"7",onKeyUp:function(){var e=document.getElementById("input");console.log(e.value),e.value=e.value.replace("[^0-9]","")}})),n.a.createElement("div",{className:"d-inline-block m-4"},n.a.createElement("div",{className:"form-check"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"exampleRadios",value:"option1",checked:this.state.isCheckedRow,onClick:this.onClickRadio}),n.a.createElement("label",{className:"form-check-label",htmlFor:"exampleRadios1"},"\u0421\u0442\u0440\u043e\u043a\u0443")),n.a.createElement("div",{className:"form-check  mb-3"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"exampleRadios",value:"option2",checked:this.state.isCheckedCol,onClick:this.onClickRadio}),n.a.createElement("label",{className:"form-check-label",htmlFor:"exampleRadios2"},"\u0421\u0442\u043e\u043b\u0431\u0435\u0446")),n.a.createElement(x.a,{variant:"success",className:"",onClick:this.props.onClickInsert},"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c"))))}}]),t}(r.Component)),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={history:a.props.history,currentIndex:a.props.history.currentIndex},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=n.a.createElement(x.a,{className:"m-2 d-inline-flex btn-success",onClick:this.props.onClickUnDo},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),a=n.a.createElement(x.a,{className:"m-2 d-inline-flex btn-secondary",disabled:!0},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),r=n.a.createElement(x.a,{className:"m-2 d-inline-flex btn-success",onClick:this.props.onClickReDo},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c"),l=n.a.createElement(x.a,{className:"m-2 d-inline-flex btn-secondary",disabled:!0},"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c"),i=this.state.history.data.map((function(t,a){return e.state.history.currentIndex==a?n.a.createElement("li",{key:a,className:"font-weight-bold"}," ",t.text," "):n.a.createElement("li",{key:a,className:""}," ",t.text," ")}));return n.a.createElement("div",{className:"container card p-0"},n.a.createElement("h5",{className:"card-header"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b"),n.a.createElement("div",{className:"border history-list m-3"},n.a.createElement("ul",{id:"history-list"},i)),n.a.createElement("div",{className:"d-flex justify-content-center"},this.props.enableUnDo?t:a,this.props.enableReDo?r:l))}}]),t}(r.Component),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={indexCheckedTable:a.props.indexCheckedTable},a.onClickChoiceTable=a.onClickChoiceTable.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onClickChoiceTable",value:function(e){"option1"==e.target.value?this.setState({indexCheckedTable:0}):this.setState({indexCheckedTable:1})}},{key:"render",value:function(){return n.a.createElement("div",{className:"container  card p-0"},n.a.createElement("h5",{className:"card-header"},"\u0412\u044b\u0431\u043e\u0440 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432"),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-check m-1 ml-3 "},n.a.createElement("input",{className:"form-check-input ",type:"radio",name:"choice-table",id:"exampleRadios1",value:"option1",checked:0==this.state.indexCheckedTable,onClick:this.onClickChoiceTable}),n.a.createElement("label",{className:"form-check-label",htmlFor:"exampleRadios1"},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u21161")),n.a.createElement("div",{className:"form-check m-1 ml-3 mb-3"},n.a.createElement("input",{className:"form-check-input ",type:"radio",name:"choice-table",id:"exampleRadios2",value:"option2",checked:1==this.state.indexCheckedTable,onClick:this.onClickChoiceTable}),n.a.createElement("label",{className:"form-check-label",htmlFor:"exampleRadios2"},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u21162")),n.a.createElement(x.a,{variant:"success",className:"btn btn-success",onClick:this.props.onChoiceTable},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c")))}}]),t}(r.Component),E=a(8),V=a.n(E);function N(e,t){for(var a=k(t),r=b(e,t),n=t.getParentsIndex(r),l=r,i=n.length-1;i>-1&&0==n[i];i--)l=v(l,t);for(var c=l,o=new p({value:++a,color:"Green",VerticalSpan:1}),s=o,h=f(c,t);h<C(t);h++)s.children.push(new p({value:++a,color:"Green",VerticalSpan:1})),s=s.children[0];return function(e,t,a){for(var r={_root:{children:{}}},n=r._root.children,l=a.getParentsIndex(t),i=0;i<l.length-1;i++)n[l[i]]={children:{}},n=n[l[i]].children;return n.$splice=[[l[l.length-1],0,e]],V()(a,r)}(o,c,t)}function I(e,t,a){for(var r={_root:{children:{}}},n=r._root.children,l=a.getParentsIndex(t),i=0;i<l.length-1;i++)n[l[i]]={children:{}},n=n[l[i]].children;return n.$splice=[[l.pop(),1,e]],V()(a,r)}function R(e,t){for(var a={_root:{children:{}}},r=a._root.children,n=t.getParentsIndex(e),l=0;l<n.length-1;l++)r[n[l]]={children:{}},r=r[n[l]].children;return r[n.pop()]={VerticalSpan:{$apply:function(e){return Number(e+1)}}},V()(t,a)}var O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).onClickInsert=a.onClickInsert.bind(Object(d.a)(a)),a.onChoiceTable=a.onChoiceTable.bind(Object(d.a)(a)),a.onClickUnDo=a.onClickUnDo.bind(Object(d.a)(a)),a.onClickReDo=a.onClickReDo.bind(Object(d.a)(a)),a.state={tree:a.props.history.data[0].tree,history:a.props.history,enableUnDo:!1,enableReDo:!1,isCheckedRow:!0,isCheckedCol:!1,indexCheckedTable:1,widthWindow:100},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onClickInsert",value:function(){var e=Number(document.getElementById("input").value);if(Number.isInteger(e))if(e>k(this.state.tree))alert("\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441 \u0442\u0430\u043a\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!");else if(document.getElementsByName("exampleRadios")[0].checked){var t=function(e,t){var a=V()(t,{}),r=k(t),n=f(b(e,t),t)-1,l=[];t.traverse((function(e){t.hasRow(n,e)&&l.push(e)}));for(var i=0;i<l.length;i++)if(0==l[i].children.length||t.hasRow(n+1,l[i]))a=R(l[i],a);else for(var c=0;c<l[i].children.length;c++){var o=new p({VerticalSpan:1,color:"Yellow",value:++r});o.children=[l[i].children[c]],a=I(o,l[i].children[c],a)}return a}(e,this.state.tree),a={currentIndex:this.state.history.currentIndex+1,data:this.state.history.data.slice()};a.currentIndex!=a.data.length-1&&a.data.slice(0,a.currentIndex),a.data.push({text:"\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0432 \u044f\u0447\u0435\u0439\u043a\u0443 \u2116 ".concat(e),tree:t}),this.setState({tree:t,isCheckedRow:!0,isCheckedCol:!1,history:a})}else{var r=N(e,this.state.tree),n={currentIndex:this.state.history.currentIndex+1,data:this.state.history.data.slice()};n.currentIndex!=n.data.length-1&&n.data.slice(0,n.currentIndex),n.data.push({text:"\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0432 \u044f\u0447\u0435\u0439\u043a\u0443 \u2116 ".concat(e),tree:r}),this.setState({tree:r,isCheckedRow:!1,isCheckedCol:!0,history:n})}else alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e - \u043d\u043e\u043c\u0435\u0440 \u044f\u0447\u0435\u0439\u043a\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435!")}},{key:"onChoiceTable",value:function(){if(document.getElementsByName("choice-table")[0].checked){var e=j,t={currentIndex:this.state.history.currentIndex+1,data:this.state.history.data.slice()};t.data.push({text:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u21161",tree:e}),this.setState({tree:e,history:t,indexCheckedTable:0})}else{var a=T,r={currentIndex:this.state.history.currentIndex+1,data:this.state.history.data.slice()};r.data.push({text:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u21162",tree:a}),this.setState({history:r,tree:a,indexCheckedTable:1})}}},{key:"onClickUnDo",value:function(){var e={currentIndex:this.state.history.currentIndex-1,data:this.state.history.data.slice()};this.setState({tree:e.data[this.state.history.currentIndex-1],history:e}),console.log("height",this.state.height)}},{key:"onClickReDo",value:function(){if(!(this.state.history.currentIndex+1>=this.state.history.data.length)){var e={currentIndex:this.state.history.currentIndex+1,data:this.state.history.data.slice()};this.setState({tree:e.data[this.state.history.currentIndex+1],history:e})}}},{key:"componentWillMount",value:function(){this.setState({widthWindow:window.innerWidth})}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,"\u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432/\u0441\u0442\u0440\u043e\u043a"),n.a.createElement("p",null,n.a.createElement("span",{className:"h6"},"\u0417\u0430\u0434\u0430\u043d\u0438\u0435:   "),"\u0414\u0430\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c\u0430 \u0432 \u0432\u0438\u0434\u0435 \xab\u0434\u0435\u0440\u0435\u0432\u0430\xbb. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0442\u0430\u0432\u043a\u0443 \u0441\u0442\u0440\u043e\u043a \u0438 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0438.")),n.a.createElement(y,{tree:this.state.history.data[this.state.history.currentIndex].tree,key:this.state.history.currentIndex,widthWindow:this.state.widthWindow}),n.a.createElement("div",{className:"card-deck"},n.a.createElement("div",{className:"card border-0"},n.a.createElement(g,{style:{width:"100px"},onChoiceTable:this.onChoiceTable,indexCheckedTable:this.state.indexCheckedTable}),n.a.createElement(S,{onClickInsert:this.onClickInsert,isCheckedRow:this.state.isCheckedRow,isCheckedCol:this.state.isCheckedCol})),n.a.createElement(w,{history:this.state.history,key:this.state.history.currentIndex,enableUnDo:this.state.history.currentIndex>0,enableReDo:this.state.history.currentIndex+1<this.state.history.data.length,onClickUnDo:this.onClickUnDo,onClickReDo:this.onClickReDo})))}}]),t}(r.Component);a.d(t,"tree1",(function(){return j})),a.d(t,"tree2",(function(){return T}));var j=new m;j._root=JSON.parse('{"_root":{"value":0,"color":"White","VerticalSpan":1,"children":[{"value":1,"color":"Coral","VerticalSpan":1,"children":[{"value":6,"color":"LightGreen","VerticalSpan":1,"children":[{"value":11,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":16,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]},{"value":2,"color":"Coral","VerticalSpan":1,"children":[{"value":7,"color":"LightGreen","VerticalSpan":1,"children":[{"value":12,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":17,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]},{"value":3,"color":"Coral","VerticalSpan":1,"children":[{"value":8,"color":"LightGreen","VerticalSpan":1,"children":[{"value":13,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":18,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]},{"value":4,"color":"Coral","VerticalSpan":1,"children":[{"value":9,"color":"LightGreen","VerticalSpan":1,"children":[{"value":14,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":19,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]},{"value":5,"color":"Coral","VerticalSpan":1,"children":[{"value":10,"color":"LightGreen","VerticalSpan":1,"children":[{"value":15,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":20,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]}]}}')._root;var T=new m;T._root=JSON.parse('{"_root":{"value":0,"color":"White","VerticalSpan":1,"children":[{"value":1,"color":"Coral","VerticalSpan":2,"children":[{"value":8,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":12,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]},{"value":2,"color":"Coral","VerticalSpan":1,"children":[{"value":5,"color":"LightGreen","VerticalSpan":1,"children":[{"value":9,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":13,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]},{"value":10,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":14,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]},{"value":6,"color":"LightGreen","VerticalSpan":1,"children":[{"value":11,"color":"MediumPurple","VerticalSpan":2,"children":[]}]}]},{"value":3,"color":"Coral","VerticalSpan":1,"children":[{"value":7,"color":"LightGreen","VerticalSpan":2,"children":[{"value":15,"color":"CornflowerBlue","VerticalSpan":1,"children":[]},{"value":16,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]},{"value":4,"color":"Coral","VerticalSpan":3,"children":[{"value":17,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}}')._root;var D={currentIndex:0,data:[{text:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u21162",tree:T}]};i.a.render(n.a.createElement(O,{history:D}),document.getElementById("root"))},9:function(e,t,a){}},[[15,1,2]]]);
//# sourceMappingURL=main.cb73e846.chunk.js.map