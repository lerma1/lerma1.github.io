(this.webpackJsonptable=this.webpackJsonptable||[]).push([[0],{37:function(e,t,r){},57:function(e,t,r){e.exports=r(86)},86:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),l=r(7),i=r.n(l),o=r(14),c=r(15),s=r(19),h=r(16),u=r(20),d=r(18),p=r(51),v=r(56),f=(r(37),function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={tree:r.props.tree,widthWindow:900,heightWindow:1080},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({widthWindow:window.innerWidth}),this.setState({heightWindow:window.innerHeight})}},{key:"render",value:function(){for(var e=this,t=[],r=this.state.tree.sortOfDepth(),n=.75*this.state.widthWindow/r[r.length-1].length,l=.35*this.state.heightWindow/this.props.tree.getMaxDepth(),i=1;i<r.length;i++){var o=a.a.createElement("tr",{key:"tr"+i+new Date},r[i].map((function(t){return a.a.createElement(v.a,{trigger:"click",placement:"right",overlay:a.a.createElement(p.a,{id:"tooltip-right"},a.a.createElement("button",{id:t.value,onClick:e.props.onClickCellInsertRow,className:"btn btn-outline-light border-0 d-block "},"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443"),a.a.createElement("button",{id:t.value,onClick:e.props.onClickCellInsertCol,className:"btn btn-outline-light border-0 d-block"},"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446")),key:t.value},a.a.createElement("td",{key:t.value,rowSpan:t.VerticalSpan,colSpan:e.state.tree.getColSpan(t),style:{"background-color":t.color,width:(t.children.length||1)*n+"px",height:t.VerticalSpan*l+"px"}},t.value))})));t.push(o)}return a.a.createElement("div",{className:"container ",id:"table"},a.a.createElement("table",{className:"table-tree h4"},t))}}]),t}(n.Component)),C=r(21),m=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(s.a)(this,Object(h.a)(t).call(this,e))).state={history:r.props.history,currentIndex:r.props.history.currentIndex},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=a.a.createElement(C.a,{className:"m-2 d-inline-flex btn-success",onClick:this.props.onClickUnDo},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),r=a.a.createElement(C.a,{className:"m-2 d-inline-flex btn-secondary",disabled:!0},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),n=a.a.createElement(C.a,{className:"m-2 d-inline-flex btn-success",onClick:this.props.onClickReDo},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c"),l=a.a.createElement(C.a,{className:"m-2 d-inline-flex btn-secondary",disabled:!0},"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c"),i=this.state.history.data.map((function(t,r){return e.state.history.currentIndex==r?a.a.createElement("li",{key:r,className:"font-weight-bold"}," ",t.text," "):a.a.createElement("li",{key:r,className:""}," ",t.text," ")}));return a.a.createElement("div",{className:" card history  p-0 m-auto "},a.a.createElement("div",{className:"card-header d-flex justify-content-between "},a.a.createElement("div",{className:"d-inline-block h5 mt-auto mb-auto"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"),a.a.createElement("div",{className:""},this.props.enableUnDo?t:r,this.props.enableReDo?n:l)),a.a.createElement("div",{className:"border history-list m-3"},a.a.createElement("ul",{id:"history-list"},i)))}}]),t}(n.Component),y=r(35),g=r(54),b=r(26),S=r(55),V=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(y.a,{collapseOnSelect:!0,expand:"lg",bg:"info",variant:"dark",className:"d-flex justify-content-between"},a.a.createElement(y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),a.a.createElement(y.a.Collapse,{id:"responsive-navbar-nav"},a.a.createElement(g.a,{className:"d-inline-block mr-auto ml-auto"},a.a.createElement(S.a,{className:"",type:"radio",name:"options",defaultValue:3,onChange:this.props.onChoiceTable},a.a.createElement(b.a,{variant:"outline-light",value:1},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 1"),a.a.createElement(b.a,{variant:"outline-light",value:2},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 2"),a.a.createElement(b.a,{variant:"outline-light",value:3},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 3")))))}}]),t}(n.Component),x=(r(84),function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(s.a)(this,Object(h.a)(t).call(this,e))).isValidate=function(e){return Number.isInteger(e)?!(e>r.state.tree.getMaxValue())||(alert("\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441 \u0442\u0430\u043a\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!"),!1):(alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e - \u043d\u043e\u043c\u0435\u0440 \u044f\u0447\u0435\u0439\u043a\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435!"),!1)},r.insertRow=function(e){var t=r.state.tree.addRow(e),n={currentIndex:r.state.history.currentIndex+1,data:r.state.history.data.slice(0,r.state.history.currentIndex+1)};n.data.push({text:"\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0432 \u044f\u0447\u0435\u0439\u043a\u0443 \u2116 ".concat(e),tree:t}),r.setState({tree:t,isCheckedRow:!0,isCheckedCol:!1,history:n})},r.insertCol=function(e){var t=r.state.tree.addColumn(e),n={currentIndex:r.state.history.currentIndex+1,data:r.state.history.data.slice(0,r.state.history.currentIndex+1)};n.data.push({text:"\u0412\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0432 \u044f\u0447\u0435\u0439\u043a\u0443 \u2116 ".concat(e),tree:t}),r.setState({tree:t,isCheckedRow:!1,isCheckedCol:!0,history:n})},r.onChoiceTable=r.onChoiceTable.bind(Object(u.a)(r)),r.onClickUnDo=r.onClickUnDo.bind(Object(u.a)(r)),r.onClickReDo=r.onClickReDo.bind(Object(u.a)(r)),r.onClickCellInsertRow=r.onClickCellInsertRow.bind(Object(u.a)(r)),r.onClickCellInsertCol=r.onClickCellInsertCol.bind(Object(u.a)(r)),r.state={tree:r.props.history.data[0].tree,history:r.props.history,enableUnDo:!1,enableReDo:!1,isCheckedRow:!0,isCheckedCol:!1,indexCheckedTable:1},r}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onClickCellInsertRow",value:function(e){var t=Number(e.target.id);this.insertRow(t)}},{key:"onClickCellInsertCol",value:function(e){var t=Number(e.target.id);this.insertCol(t)}},{key:"onChoiceTable",value:function(e){if(1==e){var t=D,r={currentIndex:this.state.history.currentIndex+1,data:this.state.history.data.slice(0,this.state.history.currentIndex+1)};r.data.push({text:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u21161",tree:t}),this.setState({tree:t,history:r,indexCheckedTable:0})}if(2==e){var n=N,a={currentIndex:this.state.history.currentIndex+1,data:this.state.history.data.slice(0,this.state.history.currentIndex+1)};a.data.push({text:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u21162",tree:n}),this.setState({history:a,tree:n,indexCheckedTable:1})}if(3==e){var l=O,i={currentIndex:this.state.history.currentIndex+1,data:this.state.history.data.slice(0,this.state.history.currentIndex+1)};i.data.push({text:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u21163",tree:l}),this.setState({history:i,tree:l,indexCheckedTable:1})}}},{key:"onClickUnDo",value:function(){var e={currentIndex:this.state.history.currentIndex-1,data:this.state.history.data.slice()};this.setState({tree:e.data[this.state.history.currentIndex-1].tree,history:e}),console.log("height",this.state.height)}},{key:"onClickReDo",value:function(){if(!(this.state.history.currentIndex+1>=this.state.history.data.length)){var e={currentIndex:this.state.history.currentIndex+1,data:this.state.history.data.slice()};this.setState({tree:e.data[this.state.history.currentIndex+1].tree,history:e})}}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(V,{onChoiceTable:this.onChoiceTable,indexCheckedTable:this.state.indexCheckedTable}),a.a.createElement("div",{className:"container"},a.a.createElement(f,{tree:this.state.history.data[this.state.history.currentIndex].tree,key:this.state.history.currentIndex,onClickCellInsertRow:this.onClickCellInsertRow,onClickCellInsertCol:this.onClickCellInsertCol}),a.a.createElement("div",{className:""},a.a.createElement("div",{className:"d-block "}),a.a.createElement(m,{history:this.state.history,key:this.state.history.currentIndex,enableUnDo:this.state.history.currentIndex>0,enableReDo:this.state.history.currentIndex+1<this.state.history.data.length,onClickUnDo:this.onClickUnDo,onClickReDo:this.onClickReDo}))))}}]),t}(n.Component)),k=r(28),w=r.n(k);function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:0,color:"white",VerticalSpan:1};this.value=e.value,this.color=e.color,this.VerticalSpan=e.VerticalSpan,this.children=[]}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{value:0,color:"white",VerticalSpan:1};if(e)this._root=JSON.parse(e)._root;else{var r=new I(t);this._root=r}}E.prototype.traverse=function(e){!function t(r){for(var n=0,a=r.children.length;n<a;n++)t(r.children[n]);e(r)}(this._root)},E.prototype.addColumn=function(e){for(var t=this.getMaxValue(),r=this.findNode(e),n=this.getParentsIndex(r),a=n.length-1;a>-1&&0==n[a];a--)r=this.getParent(r);for(var l=r,i=new I({value:++t,color:"Green",VerticalSpan:1}),o=i,c=this.getDepth(l);c<this.getMaxDepth();c++)o.children.push(new I({value:++t,color:"Green",VerticalSpan:1})),o=o.children[0];return this.addCellWithShiftRight(i,l)},E.prototype.addCellWithShiftRight=function(e,t){for(var r={_root:{children:{}}},n=r._root.children,a=this.getParentsIndex(t),l=0;l<a.length-1;l++)n[a[l]]={children:{}},n=n[a[l]].children;return n.$splice=[[a[a.length-1],0,e]],w()(this,r)},E.prototype.addCellWithShiftDown=function(e,t){for(var r={_root:{children:{}}},n=r._root.children,a=this.getParentsIndex(t),l=0;l<a.length-1;l++)n[a[l]]={children:{}},n=n[a[l]].children;return n.$splice=[[a.pop(),1,e]],w()(this,r)},E.prototype.incrementVerticalSpan=function(e){for(var t={_root:{children:{}}},r=t._root.children,n=this.getParentsIndex(e),a=0;a<n.length-1;a++)r[n[a]]={children:{}},r=r[n[a]].children;return r[n.pop()]={VerticalSpan:{$apply:function(e){return Number(e+1)}}},w()(this,t)},E.prototype.addRow=function(e){var t=this,r=w()(this,{}),n=this.getMaxValue(),a=this.getDepth(this.findNode(e))-1,l=[];this.traverse((function(e){t.hasRow(a,e)&&l.push(e)}));for(var i=0;i<l.length;i++)if(0==l[i].children.length||this.hasRow(a+1,l[i]))r=r.incrementVerticalSpan(l[i]);else for(var o=0;o<l[i].children.length;o++){var c=new I({VerticalSpan:1,color:"Yellow",value:++n});c.children=[l[i].children[o]],r=r.addCellWithShiftDown(c,l[i].children[o])}return r},E.prototype.getParent=function(e){var t;return this.traverse((function(r){void 0!=r.children.find((function(t){return t==e}))&&(t=r)})),t},E.prototype.getDepth=function(e){for(var t=0,r=e;void 0!=r;)(r=this.getParent(r))&&(t+=r.VerticalSpan);return t},E.prototype.sortOfDepth=function(){var e=this,t=[];return this.traverse((function(r){var n=e.getDepth(r);t[n]||(t[n]=[]),t[n].push(r)})),t},E.prototype.getMaxDepth=function(){var e=this,t=0;return this.traverse((function(r){e.getDepth(r)>t&&(t=e.getDepth(r))})),t},E.prototype.getMaxValue=function(){var e=0;return this.traverse((function(t){t.value>e&&(e=t.value)})),e},E.prototype.getParentsIndex=function(e){for(var t=[],r=e.value,n=this.getParent(e);void 0!=n;)t.unshift(n.children.findIndex((function(e){return e.value==r}))),r=n.value,n=this.getParent(n);return t},E.prototype.findNode=function(e){var t=null;return this.traverse((function(r){r.value===e&&(t=r)})),null===t?-1:t},E.prototype.getNumbersRow=function(e){var t=[];t[0]=this.getDepth(e);for(var r=1;r<e.VerticalSpan;r++)t.push(r+t[0]);return t},E.prototype.hasRow=function(e,t){return-1!=this.getNumbersRow(t).findIndex((function(t){return t==e}))},E.prototype.getLowerCells=function(){for(var e=this,t=this._root.children[0];0!=t.children.length;)t=t.children[0];var r=this.getNumbersRow(t),n=r[r.length-1],a=[];return this.traverse((function(t){e.hasRow(n,t)&&a.push(t)})),a},E.prototype.isParentOfChild=function(e,t){for(var r=t;void 0!=this.getParent(r);){if(this.getParent(r)==e)return!0;r=this.getParent(r)}return!1},E.prototype.getColSpan=function(e,t){for(var r=0,n=this.getLowerCells(),a=0;a<n.length;a++)this.isParentOfChild(e,n[a])&&r++;return r};r.d(t,"tree1",(function(){return D})),r.d(t,"tree2",(function(){return N})),r.d(t,"tree3",(function(){return O}));var D=new E('{"_root":{"value":0,"color":"White","VerticalSpan":1,"children":[{"value":1,"color":"Coral","VerticalSpan":1,"children":[{"value":6,"color":"LightGreen","VerticalSpan":1,"children":[{"value":11,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":16,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]},{"value":2,"color":"Coral","VerticalSpan":1,"children":[{"value":7,"color":"LightGreen","VerticalSpan":1,"children":[{"value":12,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":17,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]},{"value":3,"color":"Coral","VerticalSpan":1,"children":[{"value":8,"color":"LightGreen","VerticalSpan":1,"children":[{"value":13,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":18,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]},{"value":4,"color":"Coral","VerticalSpan":1,"children":[{"value":9,"color":"LightGreen","VerticalSpan":1,"children":[{"value":14,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":19,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]},{"value":5,"color":"Coral","VerticalSpan":1,"children":[{"value":10,"color":"LightGreen","VerticalSpan":1,"children":[{"value":15,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":20,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}]}]}}'),N=new E('{"_root":{"value":0,"color":"White","VerticalSpan":1,"children":[{"value":1,"color":"Coral","VerticalSpan":1,"children":[{"value":4,"color":"LightGreen","VerticalSpan":1,"children":[{"value":7,"color":"MediumPurple","VerticalSpan":1,"children":[]}]},{"value":5,"color":"LightGreen","VerticalSpan":1,"children":[{"value":8,"color":"MediumPurple","VerticalSpan":1,"children":[]}]}]},{"value":2,"color":"Coral","VerticalSpan":1,"children":[{"value":6,"color":"LightGreen","VerticalSpan":2,"children":[]}]},{"value":3,"color":"Coral","VerticalSpan":2,"children":[{"value":9,"color":"MediumPurple","VerticalSpan":1,"children":[]},{"value":10,"color":"MediumPurple","VerticalSpan":1,"children":[]}]}]}}'),O=new E('{"_root":{"value":0,"color":"White","VerticalSpan":1,"children":[{"value":1,"color":"Coral","VerticalSpan":2,"children":[{"value":8,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":12,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]},{"value":2,"color":"Coral","VerticalSpan":1,"children":[{"value":5,"color":"LightGreen","VerticalSpan":1,"children":[{"value":9,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":13,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]},{"value":10,"color":"MediumPurple","VerticalSpan":1,"children":[{"value":14,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]},{"value":6,"color":"LightGreen","VerticalSpan":1,"children":[{"value":11,"color":"MediumPurple","VerticalSpan":2,"children":[]}]}]},{"value":3,"color":"Coral","VerticalSpan":1,"children":[{"value":7,"color":"LightGreen","VerticalSpan":2,"children":[{"value":15,"color":"CornflowerBlue","VerticalSpan":1,"children":[]},{"value":16,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]},{"value":4,"color":"Coral","VerticalSpan":3,"children":[{"value":17,"color":"CornflowerBlue","VerticalSpan":1,"children":[]}]}]}}'),R={currentIndex:0,data:[{text:"\u0421\u043e\u0437\u0434\u0430\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u21163",tree:O}]};i.a.render(a.a.createElement(x,{history:R}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.b2900de6.chunk.js.map